package br.com.projeto.rh.repository;


import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;

import br.com.projeto.rh.DTO.FuncionarioDTO;
import br.com.projeto.rh.model.Funcionario;
import jakarta.persistence.Tuple;


public interface FuncionarioRepository extends JpaRepository<Funcionario, Integer> {

	@Query("select f from Funcionario f where f.nome like %?1% ")
	List<Funcionario> findByNome(String nome);
	
	@Query("select f from Funcionario f where f.salario between :salario1 and :salario2 ")
	List<Funcionario> findBySalario(Double salario1,Double salario2);
	
	
	@Query("select f from Funcionario f")
	List<Funcionario> findByTodos();
	
	
	
	@Query("select SUM(f.salario) as total, d.nome as nome"
			+ " from Funcionario f,Cargos c,Departamento d"
			+ " where d.codigo = c.departamento.codigo and c.codigo = f.cargos.codigo"
			+ " group by d.nome")
	public List<Tuple> consulta();
	
	
	
	
}
